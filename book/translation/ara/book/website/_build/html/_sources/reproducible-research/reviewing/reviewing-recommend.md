(ص - توصية - استعراض)=
# التوصيات وأفضل الممارسات

## من يراجع؟

في إطار المشاريع الصغيرة الحجم التي يعرف فيها جميع المطورين بعضهم البعض عادة، الممارسة الشائعة هي أن يقوم المبرمج بوضع علامة على شخص ما في المجموعة كمراجع. عندما تكون موسومة كمستعرض، أولاً تحقق مما إذا كان لديك معرفة كافية حول التغييرات الجديدة في التعليمات البرمجية للقيام بعمل جيد في وقت معقول.

وعلى النقيض من ذلك، من المرجح أن تكون لدى مشاريع التطوير الكبيرة قواعد ملموسة قائمة لكيفية تخصيص المستعرضين لطلبات السحب الفردية. وتعمل هذه القواعد على تحقيق التوازن بين عبء العمل الذي تقوم به المجموعة، وعلى تعظيم الفوائد المختلفة للعملية بالنسبة للمشروع وللمشاركين فيه. بل إن أكبر المشاريع قد يكون لديها موظفون متفرغون - أو أفرقة من الموظفين - للعمل كمستعرضين. عادةً، لا يمكن إجراء مراجعات الرموز إلا من قبل مجموعة فرعية مرخص لها من المساهمين في إطار مشاريع أكبر.

وفيما يتعلق بالمشاريع التي يرجح أن تكون فيها جولات متعددة من الاستعراض لمواد مشابهة ومن المتوقع أن تكون دورات تطويرية طويلة، ومن المعقول وجود درجة من التفكير الاستراتيجي بشأن من يكمل الاستعراضات. ومن المرجح أن يكون خبير استعراض واحد قادراً على إبداء تعليقات على الرموز التي استعرضها قبل أن يكون أكثر كفاءة بكثير. ومع ذلك، فإن السماح للمراجعين بأزواج المبرمجين مثل هذا الاستمرار هو فكرة سيئة عموما، وبما أنها يمكن أن تؤدي إلى نفس النوع من المجموعات فتعتقد أن عملية الاستعراض تهدف إلى تجنبها في المقام الأول.

## كن لطيفاً!

وكما هو الحال بالنسبة لجميع المؤسسات ذات المصدر المفتوح والمؤسسات التعاونية، فإن شبكة الإنترنت الجيدة تجعل العملية بأكملها تمضي بسلاسة. ولعل الأهم من ذلك هو أن تفترض دائما حسن النية على كلا جانبي التفاعل في الاستعراض، وأن تكون دائما بناءة. وتنطبق هذه المبادئ على عملية الاستعراض التي تتجاوز أي جانب آخر من جوانب المشروع تقريبا، لأنها تنطوي بالضرورة على انتقاد، ربما بين غربين كاملين.

## حافظ على تعاونه

خلافاً لاستعراض النظراء التقليدي, "على الطريقة الأكاديمية", معظم أنظمة مراجعة التعليمات البرمجية لها عدد من المزايا: نادراً ما تكون مجهولة الهوية، إنهم في مواجهة عامة، وبدون وسيط محرر، يمكن أن يكون الاتصال بين المستعرضين و ريفيوي مباشرا وسريعا. وهذا يعني أن استعراض الرموز هو عادة عملية سريعة ومرنة وتفاعلية. وسيكون استعراض النظراء الجيد تعاوناً تاماً عندما يقوم أحد المستعرضين بتحديد استفسار محتمل، ويمكن للطرفين المعنيين أن يعملا معا لإيجاد حل. ليس من غير المألوف أيضا أن تقوم أطراف ثالثة بتجسيد خيوط المناقشة التي يمكن أن تتنامى في ظل تعليقات استعراض أكثر حنكة، إما طوعا أو بناء على طلب. وهذا كله في صالح الجميع.

## تجنب أن تكون ذاتية

وينبغي أن تسعى استعراضات المدونة إلى أن تكون موضوعية قدر الإمكان. بالطبع، قد تظهر تفضيلات البرمجة الذاتية في أي مشروع. غير أنه ينبغي البت مسبقاً في هذه الأفضليات كلما أمكن ذلك على مستوى المشروع. وبالتالي، يمكن للمرء أن يتجنب الحالة التي يمكن فيها إصدار رأي على أنه حقيقة. وبدلا من ذلك، يمكن تأييد الاقتراحات بالإشارة إلى الأفضليات الموثقة التي وضعت مسبقا. إذا حصلت على تفضيلات بدون وثائق، مناقشتها مع الفريق مرة أخرى والموافقة إذا كنت ترغب في إضافة التفضيل إلى قائمة التحقق من عملية مراجعة التعليمات البرمجية الخاصة بك.

## تحديد التغييرات الحاسمة ضد التغييرات الاختيارية

قد ترغب في التمييز بين التغييرات الحاسمة والتغييرات اللطيفة. على سبيل المثال، التعليقات التي تبدأ "أنت قد ..." يمكن استخدامها للتعبير عن الاقتراحات التي يريد المراجعون أن ينظر فيها المبرمج ولكنها ليست أساسية. يمكن أن تكون هذه مفيدة بشكل خاص لإرشاد المبرمجين غير المتمرسين لكتابة كود أفضل بينما لا تكون مختارة جداً. يمكن للمبرمجين بعد ذلك أن يقرروا تجاهل هذه التعليقات غير الحاسمة إذا لم يوافقوا على ذلك. يمكن للمراجعين استخدام التعليقات التي تبدأ "يجب عليك..." لتحديد تلك التي ليست اختيارية.

## مراجعة التعليمات البرمجية في قطع صغيرة

مراجعة التعليمات البرمجية في أجزاء صغيرة بشكل تدريجي مع تطوير المشروع يمكن أن يساعد في جعل عملية مراجعة التعليمات البرمجية أكثر كفاءة. ومن الأصعب بكثير أن يعاد النظر في مجموعة كبيرة من القوانين بمجرد إدخال أخطاء كبيرة. إذا كان من الممكن ملاحظة الأخطاء في وقت مبكر من العملية، سيكون إصلاحها أسهل بكثير، وهذا سيساعد في عملية وضع التعليمات البرمجية عموما.

وفيما يلي بعض النصائح العامة حول كيفية دمج مراجعة الرموز في عملية عملنا:

- خذ الوقت، قرأوا بعناية. استعراض كل شيء، ليس هناك ما هو قصير أو بسيط.
- حاول الحصول على شيء آخر للقيام به، ونشر الحمولة طوال يوم العمل الخاص بك. لا تراجع لأكثر من ساعة في كل مرة، بعد أن ينخفض معدل النجاح بسرعة كبيرة.
- لا تستعرض أكثر من 400 سطر من التعليمات البرمجية (LOC) في وقت واحد، أقل من 200 سطر أفضل من ذلك. لا تستعرض أكثر من 500 قفل في الساعة.

## كن على ما يرام مع أخذ المناقشة دون اتصال

وفي بعض الأحيان، قد تؤدي الاتصالات عبر الإنترنت إلى إجراء محادثات غير مثمرة مع إجراء استعراضات أكثر تعقيدا. ومن شأن عقد اجتماع شخصي أن يساعد على حل بعض المسائل الأكثر صعوبة بطريقة أكثر تعاونا وودية. وكبديل لذلك، يمكن لفريق التنمية/البحث أن يعقد اجتماعات منتظمة لإجراء استعراضات رموز مع جميع أعضاء الفريق. على سبيل المثال، انظر النهج الذي يتبعه أستاذ ينظم [اجتماعات مختبرية للتعليمات البرمجية](http://fperez.org/py4science/code_reviews.html).
